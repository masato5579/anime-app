import { Search2Icon } from '@chakra-ui/icons'
import {
  Box,
  Flex,
  Input,
  InputGroup,
  InputLeftElement,
  Text,
  useBreakpointValue,
  Select,
  Tabs,
  TabList,
  TabPanels,
  Tab,
  TabPanel,
  TabIndicator,
} from '@chakra-ui/react'
import Head from 'next/head'

import AnimeCard from '../components/AnimeCard'
import { animeData } from '../data/sampleData'
import { AnimeData } from '../types/components/AnimeCard'

const Home = () => {
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name='description' content='Generated by create next app' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
      </Head>
      <Box>
        <Box width={'90%'} margin={'auto'}>
          <Text
            as={'h2'}
            fontSize={'2xl'}
            color={'brand'}
            fontWeight={'bold'}
            textAlign={'center'}
            padding={useBreakpointValue({ base: '15px', md: '30px' })}
          >
            アニメ一覧
          </Text>
          <Box display={{ base: 'none', md: 'block' }}>
            <Box>
              <DesktopFilters />
            </Box>
            <Box mt={'42px'}>
              <DesktopAnimeLists />
            </Box>
          </Box>
        </Box>
      </Box>
    </>
  )
}

const DesktopFilters = () => {
  return (
    <Box>
      <InputGroup width={'500px'}>
        <InputLeftElement pointerEvents='none'>
          <Search2Icon color='brand' />
        </InputLeftElement>
        <Input placeholder={'作品名'} />
      </InputGroup>
      <Flex mt={'30px'} justify={'space-between'}>
        <Select placeholder='制作年' w={'30%'}>
          <option value='option1'>Option 1</option>
          <option value='option2'>Option 2</option>
          <option value='option3'>Option 3</option>
        </Select>
        <Select placeholder='男女向け' w={'30%'}>
          <option value='option1'>Option 1</option>
          <option value='option2'>Option 2</option>
          <option value='option3'>Option 3</option>
        </Select>
        <Select placeholder='クール' w={'30%'}>
          <option value='option1'>Option 1</option>
          <option value='option2'>Option 2</option>
          <option value='option3'>Option 3</option>
        </Select>
      </Flex>
    </Box>
  )
}

const DesktopAnimeLists = () => {
  const cardWidth = '28vw'

  return (
    <Box>
      <Tabs position='relative' variant='unstyled'>
        <TabList>
          <Tab w={'140px'} mr={'40px'}>
            全て
          </Tab>
          <Tab w={'140px'} mr={'40px'}>
            見た
          </Tab>
          <Tab w={'140px'} mr={'40px'}>
            見てない
          </Tab>
          <Tab>お気に入り</Tab>
        </TabList>
        <TabIndicator mt='-1.5px' height='2px' bg='brand' borderRadius='1px' />
        <TabPanels mt={'30px'}>
          <TabPanel>
            <Flex
              wrap={'wrap'}
              justify={'space-between'}
              _after={{ content: `""`, display: 'block', width: cardWidth }}
            >
              {animeData.map((data: AnimeData, index: number) => (
                <Box mr={'0.6vw'} key={index} mt={index > 2 ? '30px' : '0px'}>
                  <AnimeCard animeData={data} cardWidth={cardWidth} />
                </Box>
              ))}
            </Flex>
          </TabPanel>
        </TabPanels>
      </Tabs>
    </Box>
  )
}

export default Home
